<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - My EPI</title>
  <link rel="icon" href="/src/assets/images/Logo head.png" type="image/x-icon">
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">

  <!--CSS puro-->
  <link rel="stylesheet" href="/src/assets/css/dashboard.css">
</head>

<body>
  <!-- NAVBAR SUPERIOR -->
  <div class="top-navbar d-flex justify-content-center align-items-center">
    <button class="btn btn-menu d-md-none" onclick="toggleSidebar()"
      style="position: absolute; left: 15px; background: none; border: none; color: white; font-size: 1.2rem;">☰</button>
    <div class="navbar-title">FUSIONSTEC ENGENHARIA</div>
    <a href="../../index.html" class="btn btn-sair">Sair</a>
  </div>

  <!-- SIDEBAR VERTICAL -->
  <div class="sidebar">
    <div class="text-center mb-5">
      <img src="../assets/images/logo.png" alt="Logo" width="120" />
    </div>
    <nav class="nav flex-column">
      <a class="nav-link  active" style="color: orange;" href="./dashboard.html">Início</a>
      <a class="nav-link" href="./estoque.html">Estoque</a>
      <a class="nav-link" href="./epi.html">EPI</a>
      <a class="nav-link" href="funcionario.html">Funcionário</a>
      <a class="nav-link" href="./entregas.html">Entregas de EPI</a>
    </nav>
  </div>

  <!-- Conteúdo principal -->
  <main class="main-content">
  <div id="weather-info">
    <div id="clock"></div>
    <div id="weather">
      <img id="weather-icon" src="" alt="Clima" />
      <span id="weather-desc"></span>
    </div>
  </div>
</div>
  </main>


<script>
  // Atualiza o relógio a cada segundo
  function updateClock() {
    const now = new Date();
    const options = { weekday: 'long', day: 'numeric', month: 'long', hour: '2-digit', minute: '2-digit' };
    const formattedTime = now.toLocaleString('pt-BR', options);
    document.getElementById('clock').innerText = formattedTime;
  }

  setInterval(updateClock, 1000);
  updateClock();

  // Previsão do tempo usando OpenWeatherMap
  async function fetchWeather() {
    const apiKey = "78536b7a5f407f77163ba989573a3970"; // Pegue sua API key em https://openweathermap.org/api
    const city = "Salvador"; // ou outra cidade
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${Salvador}&units=metric&lang=pt_br&appid=${"78536b7a5f407f77163ba989573a3970"}`;

    try {
      const response = await fetch(url);
      const data = await response.json();
      const iconCode = data.weather[0].icon;
      const description = data.weather[0].description;

      document.getElementById('weather-icon').src = `https://openweathermap.org/img/wn/${clear_sky}@2x.png`;
      document.getElementById('weather-desc').innerText = description.charAt(0).toUpperCase() + description.slice(1);
    } catch (error) {
      console.error("Erro ao buscar clima:", error);
      document.getElementById('weather-desc').innerText = "Não foi possível obter o clima";
    }
  }

  fetchWeather();
</script>

</script>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>